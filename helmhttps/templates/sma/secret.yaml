apiVersion: v1
kind: Secret
metadata:
  name: mysma-secret
  labels:
    app: sma-secret
    chart: {{.Chart.Name }}-{{ .Chart.Version |replace "+" "_" }}
    release: {{ .Release.Name }}
    heritage: {{ .Release.Service }}
type: Opaque
data:
  {{ if .Values.mssql.enabled }}
  mssql-user:  {{ .Values.mssql.mssqlUser | b64enc | quote }}
  mssql-password:  {{ .Values.mssql.mssqlPassword | b64enc | quote }}
  {{ else }}
  mssql-user:  {{ randAlphaNum 20 | b64enc | quote }}
  mssql-password: {{ randAlphaNum 20 | b64enc | quote }}
  {{ end }}
